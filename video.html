<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ç¤ºç¯„å½±ç‰‡ï½œå°„ç®­æ•™å­¸æ¢ç©¶å¯¦é©—å®¤</title>
<style>
:root{
  --bg:#0b1020; --text:#e8ecff; --muted:#b9c1ff; --line:rgba(255,255,255,.15);
  --accent:#7cf0c8; --accent2:#9aa6ff; --warn:#ffcf5a;
}
body{margin:0;font-family:system-ui,-apple-system,"PingFang TC","Microsoft JhengHei",sans-serif;background:var(--bg);color:var(--text);}
.wrap{max-width:980px;margin:auto;padding:22px;}
.top{display:flex;gap:12px;align-items:center;flex-wrap:wrap;justify-content:space-between;margin-bottom:10px;}
.pill{border:1px solid var(--line);border-radius:999px;padding:6px 10px;color:var(--muted);font-size:13px;}
.card{border:1px solid var(--line);border-radius:16px;padding:16px;background:rgba(255,255,255,.03);margin-top:14px;}
.btn{display:inline-block;margin-top:10px;padding:10px 14px;border-radius:999px;background:linear-gradient(90deg,var(--accent),var(--accent2));color:#071018;font-weight:800;text-decoration:none;}
.link{color:var(--accent2);text-decoration:none}
.teacherBox{display:none;border:1px dashed rgba(255,207,90,.6);background:rgba(255,207,90,.08);border-radius:16px;padding:14px;color:var(--muted);line-height:1.7}
.teacherBox b{color:var(--warn)}
.iframeWrap{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:14px;border:1px solid var(--line);}
.iframeWrap iframe{position:absolute;inset:0;width:100%;height:100%;border:0;}
.fallback{display:none;margin-top:10px;padding:12px;border-radius:14px;border:1px dashed rgba(255,207,90,.55);background:rgba(255,207,90,.08);line-height:1.7}
.small{color:var(--muted);font-size:13px;line-height:1.7;margin-top:10px}
</style>
</head>
<body>
<div class="wrap">
  <div class="top">
    <div>
      <h1 style="margin:0 0 6px">ğŸ¬ ç¤ºç¯„å½±ç‰‡ï½œ<span id="stageTitle"></span></h1>
      <div class="pill" id="modePill">æ¨¡å¼ï¼šå­¸ç”Ÿç‰ˆ</div>
    </div>
    <div>
      <a class="link" href="index.html">â† å›æ•™å­¸é </a>ã€€
      <a class="link" id="openYT" target="_blank" rel="noopener">å‰å¾€ YouTube â†—</a>
    </div>
  </div>

  <div class="card">
    <div class="iframeWrap">
      <iframe id="ytFrame"
        title="ç¤ºç¯„å½±ç‰‡"
        allow="autoplay; encrypted-media; picture-in-picture; web-share"
        allowfullscreen></iframe>
    </div>

    <div class="small">
      âœ… æœ¬é æœƒå˜—è©¦ã€Œè‡ªå‹•é è¦½ã€ï¼šå¾ç¬¬ <b>3 ç§’</b>é–‹å§‹ã€<b>éœéŸ³</b>ã€è‡ªå‹•æ’­æ”¾ï¼ˆç€è¦½å™¨æ”¿ç­–å¯èƒ½æœƒæ“‹ï¼Œè‹¥è¢«æ“‹è«‹é»ä¸‹æ–¹æŒ‰éˆ•ï¼‰ã€‚<br>
      ğŸ”Š éœ€è¦è²éŸ³æ™‚ï¼šé»å³ä¸Šè§’ã€Œå‰å¾€ YouTubeã€æˆ–æŒ‰ä¸‹æ–¹æŒ‰éˆ•é–‹å•Ÿ YouTube æ’­æ”¾ã€‚
    </div>

    <div class="fallback" id="fallback">
      <b style="color:var(--warn)">æ­¤å½±ç‰‡ä¸å…è¨±åµŒå…¥æ’­æ”¾æˆ–ç€è¦½å™¨é˜»æ“‹è‡ªå‹•æ’­æ”¾ã€‚</b><br>
      è«‹é»æ“Šä¸‹æ–¹æŒ‰éˆ•å‰å¾€ YouTube è§€çœ‹ï¼š
      <div><a class="btn" id="openYTBtn" target="_blank" rel="noopener">â–¶ å‰å¾€ YouTube è§€çœ‹</a></div>
    </div>
  </div>

  <div class="card teacherBox" id="teacherBox">
    <b>æ•™å¸«æç¤º</b>
    <div id="teacherNotes"></div>
  </div>
</div>

<script>
(function(){
  const p = new URLSearchParams(location.search);
  const stage = Number(p.get("stage") || 1);
  const mode  = (p.get("mode") || "student").toLowerCase();

  const STAGES = {
    1:{ title:"ç¬¬ä¸€é—œï¼šæ“ç¸±è®Šå› ", yt:"https://youtube.com/shorts/7RBeQjLWVM4",
        notes:"æå•ï¼šä½ æ”¹è®Šäº†å“ªä¸€å€‹è®Šå› ï¼Ÿç‚ºä»€éº¼è¦åªæ”¹ä¸€å€‹è®Šå› ï¼Ÿ" },
    2:{ title:"ç¬¬äºŒé—œï¼šæ§åˆ¶è®Šå› ", yt:"https://youtube.com/shorts/8p91BXl7puQ",
        notes:"å¼·èª¿å›ºå®šè§’åº¦èˆ‡åˆé€Ÿï¼Œå¦å‰‡è·é›¢ç„¡æ³•æ¯”è¼ƒã€‚" },
    3:{ title:"ç¬¬ä¸‰é—œï¼šåœ–è¡¨è½‰æ›", yt:"https://youtube.com/shorts/gz6Sw8WXBjk",
        notes:"å¼•å°å­¸ç”ŸæŠŠæ“ä½œçµæœè½‰æˆåœ–è¡¨ï¼Œè¨è«–è­‰æ“šã€‚" },
    4:{ title:"ç¬¬å››é—œï¼šä»»å‹™å°è¦½", yt:"https://youtube.com/shorts/P7PFLBWUBxs",
        notes:"å…ˆç†è§£è¦å‰‡ï¼Œå†é–‹å§‹æ“ä½œã€‚" },
    5:{ title:"ç¬¬äº”é—œï¼šä»»å‹™æ¸…å–®èˆ‡æŒ‘æˆ°", yt:"https://youtube.com/shorts/FljFLq5gqrY",
        notes:"è¨è«–å¦‚ä½•å®šç¾©å®Œæˆæ¢ä»¶èˆ‡è¡¨ç¾æŒ‡æ¨™ã€‚" }
  };

  const d = STAGES[stage] || STAGES[1];
  document.getElementById("stageTitle").textContent = d.title;
  document.getElementById("modePill").textContent =
    "æ¨¡å¼ï¼š" + (mode==="teacher"?"æ•™å¸«ç‰ˆ":"å­¸ç”Ÿç‰ˆ");

  document.getElementById("openYT").href = d.yt;
  document.getElementById("openYTBtn").href = d.yt;

  const m = d.yt.match(/shorts\/([A-Za-z0-9_-]+)/) || d.yt.match(/v=([A-Za-z0-9_-]+)/);
  const vid = m ? m[1] : "";

  const embed = "https://www.youtube-nocookie.com/embed/" + vid +
    "?start=3&autoplay=1&mute=1&playsinline=1&rel=0&modestbranding=1";

  document.getElementById("ytFrame").src = embed;

  const fallback = document.getElementById("fallback");
  setTimeout(()=>{ fallback.style.display="block"; }, 1200);

  if(mode==="teacher"){
    document.getElementById("teacherBox").style.display="block";
    document.getElementById("teacherNotes").innerHTML = d.notes;
  }
})();
</script>
</body>
</html>
